<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:pp="http://primefaces.org/ui"
      xmlns:a4j="http://richfaces.org/a4j">
    <h:head>
        <title>Facelet Title</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js" type="text/javascript"></script>
        <script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js" type="text/javascript"></script>
        <link href="../design/css/chosen.css" rel="stylesheet" type="text/css"/>
       
          <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script src="../design/js/chosen.jquery.min.js" type="text/javascript"></script>
    
  
    </h:head>
    <h:body>
        <pp:messages id="messages" showDetail="true" autoUpdate="true" closable="true" /> 
        <h:form>
            <h:outputText value="Phone number of Parent: "/> <pp:inputText value="#{customer.cardHolder.parent.agentPhone}" > 
                 <a4j:ajax   listener="#{customer.customerParenthoud()}" render="agent" />
             </pp:inputText>
            <h:panelGroup id="agent">
                <br></br> <h:outputText value="#{customer.chparent.clientName} #{customer.chparent.clientSurname}" rendered="#{not empty customer.chparent}" />
                <br></br> <h:outputText value=" #{customer.chparent.clientEmail}" rendered="#{not empty customer.chparent}"/>
                <br></br> <h:outputText value="#{customer.chparent.clientPhone}" rendered="#{not empty customer.chparent}"/>
                
                 
                </h:panelGroup>
            
            
       <pp:separator />
        
       
            
       
       <div id="newCustomerForm1">
           
           
               <table><tr>
                       <td>Name: </td><td> <h:inputText  value="#{customer.cardHolder.clientName}" p:placeholder="Customer Name"/></td></tr>
                           <tr><td>Surname:</td><td> <h:inputText  value="#{customer.cardHolder.clientSurname}" p:placeholder="Customer Surname"/></td></tr>
                           <tr><td>Phone Number:</td><td> <h:inputText  value="#{customer.cardHolder.clientPhone}" p:placeholder="Customer Phone"/></td></tr>
                           <tr><td>Email:</td><td> <h:inputText  value="#{customer.cardHolder.clientEmail}" p:placeholder="Customer Email"/></td></tr>
                           <tr >
                               
                             <td colspan="2">
                                   <h:commandButton  value="Save New Customer" class="btn btn-primary"   >
                                       <a4j:ajax execute="@form" render="@form,:customerData" listener="#{customer.saveNewCustomer()}"  immediate="false"/>
                                   </h:commandButton>
                                   
                               </td>   
                               
                           </tr>
               </table>
               
               
         
       
       </div>
       </h:form> 
           
    </h:body>
</html>

